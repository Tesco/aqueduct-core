authentication:
  users:
    pipe-provider-ppe:
      password: "${PIPE_READ_PASSWORD}"
    pipe-runscope-ppe:
      password: "${RUNSCOPE_PIPE_READ_PASSWORD}"
      roles:
        - PIPE_READ
    ppe-support:
      password: "${SUPPORT_PASSWORD}"
      roles:
        - REGISTRY_DELETE
        - BOOTSTRAP_NODE
        - PIPE_READ
  identity:
    url: "${IDENTITY_URL}"
    validate.token.path: "${IDENTITY_VALIDATE_PATH}"
    issue.token.path: "${IDENTITY_ISSUE_TOKEN_PATH}"
    client:
      id: "${IDENTITY_CLIENT_ID}"
      secret: "${IDENTITY_CLIENT_SECRET}"
    users:
      nodeA:
        clientId: "${NODE_A_CLIENT_UID}"
        roles:
          - PIPE_READ
          - REGISTRY_WRITE
      nodeB:
        clientId: "${NODE_B_CLIENT_UID}"
        roles:
          - PIPE_READ
          - REGISTRY_WRITE
      performance:
        clientId: "${PERFORMANCE_TEST_CLIENT_UID}"
        roles:
          - PIPE_READ

location:
  url: "${LOCATION_URL}"

pipe:
  server:
    url: "https://api-ppe.tesco.com/messaging/v1"

persistence:
  compact:
    threshold: 3d
    schedule.cron: "0 14 2 1/1 * ?"
  read:
    limit: 20000
    max-batch-size: 2000000
    retry-after: 120
    expected-node-count: 50
    cluster-db-pool-size: 54
    read-delay-seconds: 60
